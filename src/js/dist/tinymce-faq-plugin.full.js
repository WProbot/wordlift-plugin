!function(n){var e={};function t(Q){if(e[Q])return e[Q].exports;var I=e[Q]={i:Q,l:!1,exports:{}};return n[Q].call(I.exports,I,I.exports,t),I.l=!0,I.exports}t.m=n,t.c=e,t.d=function(n,e,Q){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:Q})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var Q=Object.create(null);if(t.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var I in n)t.d(Q,I,function(e){return n[e]}.bind(null,I));return Q},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=167)}({127:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tinymce_highlight_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60);\n/* harmony import */ var _constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);\n/**\n * TinyMceClickHandler handles the click events on the tinymce editor.\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\n\n/**\n * External dependencies.\n */\n\n/**\n * Internal dependencies.\n */\n\n\n\n\nclass TinymceClickHandler {\n  constructor(editor) {\n    this.editor = editor;\n    this.bindClickEventsForQuestionAndAnswer();\n  }\n  /**\n   * Parse the html id in to faq id\n   * @param id {string}\n   * @return {string} returns the parsed id\n   */\n\n\n  parseHtmlIdToFAQId(id) {\n    return id.split("--")[2];\n  }\n  /**\n   * Fires the event to event handler from the tinymce hook.\n   * @param id {string} Html id.\n   */\n\n\n  fireEventToEventHandlerToOpenQuestionOrAnswer(id) {\n    const faqId = this.parseHtmlIdToFAQId(id);\n    Object(backbone__WEBPACK_IMPORTED_MODULE_0__["trigger"])(_constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_2__[/* FAQ_ITEM_SELECTED_ON_TEXT_EDITOR */ "d"], faqId);\n  }\n  /**\n   * Listen for click events from question and answer.\n   */\n\n\n  bindClickEventsForQuestionAndAnswer() {\n    const self = this;\n    this.editor.onClick.add(function (ed, event) {\n      if (event.target !== "undefined" && event.target.classList.length > 0) {\n        if (event.target.classList.contains(_tinymce_highlight_handler__WEBPACK_IMPORTED_MODULE_1__[/* FAQ_QUESTION_HIGHLIGHTING_CLASS */ "b"]) || event.target.classList.contains(_tinymce_highlight_handler__WEBPACK_IMPORTED_MODULE_1__[/* FAQ_ANSWER_HIGHLIGHTING_CLASS */ "a"])) {\n          self.fireEventToEventHandlerToOpenQuestionOrAnswer(event.target.id);\n        }\n      }\n    });\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (TinymceClickHandler);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2hvb2tzL3RpbnltY2UvdGlueW1jZS1jbGljay1oYW5kbGVyLmpzP2FjZDQiXSwibmFtZXMiOlsiVGlueW1jZUNsaWNrSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiZWRpdG9yIiwiYmluZENsaWNrRXZlbnRzRm9yUXVlc3Rpb25BbmRBbnN3ZXIiLCJwYXJzZUh0bWxJZFRvRkFRSWQiLCJpZCIsInNwbGl0IiwiZmlyZUV2ZW50VG9FdmVudEhhbmRsZXJUb09wZW5RdWVzdGlvbk9yQW5zd2VyIiwiZmFxSWQiLCJ0cmlnZ2VyIiwiRkFRX0lURU1fU0VMRUNURURfT05fVEVYVF9FRElUT1IiLCJzZWxmIiwib25DbGljayIsImFkZCIsImVkIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJsZW5ndGgiLCJjb250YWlucyIsIkZBUV9RVUVTVElPTl9ISUdITElHSFRJTkdfQ0xBU1MiLCJGQVFfQU5TV0VSX0hJR0hMSUdIVElOR19DTEFTUyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7O0FBTUE7OztBQUdBO0FBRUE7Ozs7QUFHQTtBQUNBOztBQUVBLE1BQU1BLG1CQUFOLENBQTBCO0FBQ3hCQyxhQUFXLENBQUNDLE1BQUQsRUFBUztBQUNsQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxtQ0FBTDtBQUNEO0FBQ0Q7Ozs7Ozs7QUFLQUMsb0JBQWtCLENBQUNDLEVBQUQsRUFBSztBQUNyQixXQUFPQSxFQUFFLENBQUNDLEtBQUgsQ0FBUyxJQUFULEVBQWUsQ0FBZixDQUFQO0FBQ0Q7QUFFRDs7Ozs7O0FBSUFDLCtDQUE2QyxDQUFDRixFQUFELEVBQUs7QUFDaEQsVUFBTUcsS0FBSyxHQUFHLEtBQUtKLGtCQUFMLENBQXdCQyxFQUF4QixDQUFkO0FBQ0FJLDREQUFPLENBQUNDLHNHQUFELEVBQW1DRixLQUFuQyxDQUFQO0FBQ0Q7QUFDRDs7Ozs7QUFHQUwscUNBQW1DLEdBQUc7QUFDcEMsVUFBTVEsSUFBSSxHQUFHLElBQWI7QUFDQSxTQUFLVCxNQUFMLENBQVlVLE9BQVosQ0FBb0JDLEdBQXBCLENBQXdCLFVBQVNDLEVBQVQsRUFBYUMsS0FBYixFQUFvQjtBQUMxQyxVQUFJQSxLQUFLLENBQUNDLE1BQU4sS0FBaUIsV0FBakIsSUFBZ0NELEtBQUssQ0FBQ0MsTUFBTixDQUFhQyxTQUFiLENBQXVCQyxNQUF2QixHQUFnQyxDQUFwRSxFQUF1RTtBQUNyRSxZQUNFSCxLQUFLLENBQUNDLE1BQU4sQ0FBYUMsU0FBYixDQUF1QkUsUUFBdkIsQ0FBZ0NDLGtHQUFoQyxLQUNBTCxLQUFLLENBQUNDLE1BQU4sQ0FBYUMsU0FBYixDQUF1QkUsUUFBdkIsQ0FBZ0NFLGdHQUFoQyxDQUZGLEVBR0U7QUFDQVYsY0FBSSxDQUFDSiw2Q0FBTCxDQUFtRFEsS0FBSyxDQUFDQyxNQUFOLENBQWFYLEVBQWhFO0FBQ0Q7QUFDRjtBQUNGLEtBVEQ7QUFVRDs7QUFyQ3VCOztBQXdDWEwsNEVBQWYiLCJmaWxlIjoiMTI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaW55TWNlQ2xpY2tIYW5kbGVyIGhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50cyBvbiB0aGUgdGlueW1jZSBlZGl0b3IuXG4gKiBAc2luY2UgMy4yNi4wXG4gKiBAYXV0aG9yIE5hdmVlbiBNdXRodXNhbXkgPG5hdmVlbkB3b3JkbGlmdC5pbz5cbiAqL1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgdHJpZ2dlciB9IGZyb20gXCJiYWNrYm9uZVwiO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgRkFRX0FOU1dFUl9ISUdITElHSFRJTkdfQ0xBU1MsIEZBUV9RVUVTVElPTl9ISUdITElHSFRJTkdfQ0xBU1MgfSBmcm9tIFwiLi90aW55bWNlLWhpZ2hsaWdodC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBGQVFfSVRFTV9TRUxFQ1RFRF9PTl9URVhUX0VESVRPUiB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZmFxLWhvb2stY29uc3RhbnRzXCI7XG5cbmNsYXNzIFRpbnltY2VDbGlja0hhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLmJpbmRDbGlja0V2ZW50c0ZvclF1ZXN0aW9uQW5kQW5zd2VyKCk7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBodG1sIGlkIGluIHRvIGZhcSBpZFxuICAgKiBAcGFyYW0gaWQge3N0cmluZ31cbiAgICogQHJldHVybiB7c3RyaW5nfSByZXR1cm5zIHRoZSBwYXJzZWQgaWRcbiAgICovXG4gIHBhcnNlSHRtbElkVG9GQVFJZChpZCkge1xuICAgIHJldHVybiBpZC5zcGxpdChcIi0tXCIpWzJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIHRoZSBldmVudCB0byBldmVudCBoYW5kbGVyIGZyb20gdGhlIHRpbnltY2UgaG9vay5cbiAgICogQHBhcmFtIGlkIHtzdHJpbmd9IEh0bWwgaWQuXG4gICAqL1xuICBmaXJlRXZlbnRUb0V2ZW50SGFuZGxlclRvT3BlblF1ZXN0aW9uT3JBbnN3ZXIoaWQpIHtcbiAgICBjb25zdCBmYXFJZCA9IHRoaXMucGFyc2VIdG1sSWRUb0ZBUUlkKGlkKTtcbiAgICB0cmlnZ2VyKEZBUV9JVEVNX1NFTEVDVEVEX09OX1RFWFRfRURJVE9SLCBmYXFJZCk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiBmb3IgY2xpY2sgZXZlbnRzIGZyb20gcXVlc3Rpb24gYW5kIGFuc3dlci5cbiAgICovXG4gIGJpbmRDbGlja0V2ZW50c0ZvclF1ZXN0aW9uQW5kQW5zd2VyKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZWRpdG9yLm9uQ2xpY2suYWRkKGZ1bmN0aW9uKGVkLCBldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBldmVudC50YXJnZXQuY2xhc3NMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoRkFRX1FVRVNUSU9OX0hJR0hMSUdIVElOR19DTEFTUykgfHxcbiAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKEZBUV9BTlNXRVJfSElHSExJR0hUSU5HX0NMQVNTKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZWxmLmZpcmVFdmVudFRvRXZlbnRIYW5kbGVyVG9PcGVuUXVlc3Rpb25PckFuc3dlcihldmVudC50YXJnZXQuaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlueW1jZUNsaWNrSGFuZGxlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///127\n')},167:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tinymce_toolbar_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81);\n/* harmony import */ var _tinymce_highlight_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60);\n/* harmony import */ var _tinymce_click_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(127);\n/**\n * This file is automatically loaded by the tinymce via registering in backend.\n * It emits events captured by the faq event handler class.\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\n\n/**\n * External dependencies.\n */\n\n/**\n * Internal dependencies.\n */\n\n\n\n\nconst FAQ_TINYMCE_PLUGIN_NAME = "wl_faq_tinymce";\nconst tinymce = global["tinymce"];\ntinymce.PluginManager.add(FAQ_TINYMCE_PLUGIN_NAME, function (editor) {\n  const highlightHandler = new _tinymce_highlight_handler__WEBPACK_IMPORTED_MODULE_2__[/* default */ "c"](editor);\n  const toolBarHandler = new _tinymce_toolbar_handler__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"](editor, highlightHandler);\n  toolBarHandler.addButtonToToolBar();\n  new _tinymce_click_handler__WEBPACK_IMPORTED_MODULE_3__[/* default */ "a"](editor);\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(27)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2hvb2tzL3RpbnltY2UvdGlueW1jZS1mYXEtcGx1Z2luLmpzPzQ1YmEiXSwibmFtZXMiOlsiRkFRX1RJTllNQ0VfUExVR0lOX05BTUUiLCJ0aW55bWNlIiwiZ2xvYmFsIiwiUGx1Z2luTWFuYWdlciIsImFkZCIsImVkaXRvciIsImhpZ2hsaWdodEhhbmRsZXIiLCJUaW55bWNlSGlnaGxpZ2h0SGFuZGxlciIsInRvb2xCYXJIYW5kbGVyIiwiVGlueW1jZVRvb2xiYXJIYW5kbGVyIiwiYWRkQnV0dG9uVG9Ub29sQmFyIiwiVGlueW1jZUNsaWNrSGFuZGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7QUFPQTs7O0FBR0E7QUFFQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLHVCQUF1QixHQUFHLGdCQUFoQztBQUNBLE1BQU1DLE9BQU8sR0FBR0MsTUFBTSxDQUFDLFNBQUQsQ0FBdEI7QUFDQUQsT0FBTyxDQUFDRSxhQUFSLENBQXNCQyxHQUF0QixDQUEwQkosdUJBQTFCLEVBQW1ELFVBQVNLLE1BQVQsRUFBaUI7QUFDbEUsUUFBTUMsZ0JBQWdCLEdBQUcsSUFBSUMsMEVBQUosQ0FBNEJGLE1BQTVCLENBQXpCO0FBQ0EsUUFBTUcsY0FBYyxHQUFHLElBQUlDLHdFQUFKLENBQTBCSixNQUExQixFQUFrQ0MsZ0JBQWxDLENBQXZCO0FBQ0FFLGdCQUFjLENBQUNFLGtCQUFmO0FBQ0EsTUFBSUMsc0VBQUosQ0FBd0JOLE1BQXhCO0FBQ0QsQ0FMRCxFIiwiZmlsZSI6IjE2Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgbG9hZGVkIGJ5IHRoZSB0aW55bWNlIHZpYSByZWdpc3RlcmluZyBpbiBiYWNrZW5kLlxuICogSXQgZW1pdHMgZXZlbnRzIGNhcHR1cmVkIGJ5IHRoZSBmYXEgZXZlbnQgaGFuZGxlciBjbGFzcy5cbiAqIEBzaW5jZSAzLjI2LjBcbiAqIEBhdXRob3IgTmF2ZWVuIE11dGh1c2FteSA8bmF2ZWVuQHdvcmRsaWZ0LmlvPlxuICovXG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzLlxuICovXG5pbXBvcnQgeyB0cmlnZ2VyIH0gZnJvbSBcImJhY2tib25lXCI7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzLlxuICovXG5pbXBvcnQgVGlueW1jZVRvb2xiYXJIYW5kbGVyIGZyb20gXCIuL3RpbnltY2UtdG9vbGJhci1oYW5kbGVyXCI7XG5pbXBvcnQgVGlueW1jZUhpZ2hsaWdodEhhbmRsZXIgZnJvbSBcIi4vdGlueW1jZS1oaWdobGlnaHQtaGFuZGxlclwiO1xuaW1wb3J0IFRpbnltY2VDbGlja0hhbmRsZXIgZnJvbSBcIi4vdGlueW1jZS1jbGljay1oYW5kbGVyXCI7XG5cbmNvbnN0IEZBUV9USU5ZTUNFX1BMVUdJTl9OQU1FID0gXCJ3bF9mYXFfdGlueW1jZVwiO1xuY29uc3QgdGlueW1jZSA9IGdsb2JhbFtcInRpbnltY2VcIl07XG50aW55bWNlLlBsdWdpbk1hbmFnZXIuYWRkKEZBUV9USU5ZTUNFX1BMVUdJTl9OQU1FLCBmdW5jdGlvbihlZGl0b3IpIHtcbiAgY29uc3QgaGlnaGxpZ2h0SGFuZGxlciA9IG5ldyBUaW55bWNlSGlnaGxpZ2h0SGFuZGxlcihlZGl0b3IpO1xuICBjb25zdCB0b29sQmFySGFuZGxlciA9IG5ldyBUaW55bWNlVG9vbGJhckhhbmRsZXIoZWRpdG9yLCBoaWdobGlnaHRIYW5kbGVyKTtcbiAgdG9vbEJhckhhbmRsZXIuYWRkQnV0dG9uVG9Ub29sQmFyKCk7XG4gIG5ldyBUaW55bWNlQ2xpY2tIYW5kbGVyKGVkaXRvcik7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///167\n')},17:function(module,exports){eval("module.exports = Backbone;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJCYWNrYm9uZVwiPzViYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IEJhY2tib25lOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n")},23:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return classExtractor; });\n/**\n * This file is used to provide helpers for styling.\n * @author Naveen Muthusamy <naveen@wordlift.io>\n * @since 3.25.0\n *\n */\n\n/**\n * classExtractor helps to return class name by applying boolean logic.\n * @param classConfig {Object} should be in format { "class-name": Boolean }\n * @returns {string} combined class name.\n */\nconst classExtractor = classConfig => {\n  let className = "";\n\n  for (let key of Object.keys(classConfig)) {\n    if (classConfig[key]) {\n      className += ` ${key}`;\n    }\n  }\n\n  return className.trim();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFwcGluZ3MvYmxvY2tzL2hlbHBlci5qcz82ZWYwIl0sIm5hbWVzIjpbImNsYXNzRXh0cmFjdG9yIiwiY2xhc3NDb25maWciLCJjbGFzc05hbWUiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwidHJpbSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7OztBQU9BOzs7OztBQUtPLE1BQU1BLGNBQWMsR0FBR0MsV0FBVyxJQUFJO0FBQzNDLE1BQUlDLFNBQVMsR0FBRyxFQUFoQjs7QUFDQSxPQUFLLElBQUlDLEdBQVQsSUFBZ0JDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSixXQUFaLENBQWhCLEVBQTBDO0FBQ3hDLFFBQUlBLFdBQVcsQ0FBQ0UsR0FBRCxDQUFmLEVBQXNCO0FBQ3BCRCxlQUFTLElBQUssSUFBR0MsR0FBSSxFQUFyQjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0QsU0FBUyxDQUFDSSxJQUFWLEVBQVA7QUFDRCxDQVJNIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgdXNlZCB0byBwcm92aWRlIGhlbHBlcnMgZm9yIHN0eWxpbmcuXG4gKiBAYXV0aG9yIE5hdmVlbiBNdXRodXNhbXkgPG5hdmVlbkB3b3JkbGlmdC5pbz5cbiAqIEBzaW5jZSAzLjI1LjBcbiAqXG4gKi9cblxuLyoqXG4gKiBjbGFzc0V4dHJhY3RvciBoZWxwcyB0byByZXR1cm4gY2xhc3MgbmFtZSBieSBhcHBseWluZyBib29sZWFuIGxvZ2ljLlxuICogQHBhcmFtIGNsYXNzQ29uZmlnIHtPYmplY3R9IHNob3VsZCBiZSBpbiBmb3JtYXQgeyBcImNsYXNzLW5hbWVcIjogQm9vbGVhbiB9XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb21iaW5lZCBjbGFzcyBuYW1lLlxuICovXG5leHBvcnQgY29uc3QgY2xhc3NFeHRyYWN0b3IgPSBjbGFzc0NvbmZpZyA9PiB7XG4gIGxldCBjbGFzc05hbWUgPSBcIlwiO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY2xhc3NDb25maWcpKSB7XG4gICAgaWYgKGNsYXNzQ29uZmlnW2tleV0pIHtcbiAgICAgIGNsYXNzTmFtZSArPSBgICR7a2V5fWA7XG4gICAgfVxuICB9XG4gIHJldHVybiBjbGFzc05hbWUudHJpbSgpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},26:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export FAQ_REQUEST_ADD_NEW_QUESTION */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FAQ_EVENT_HANDLER_SELECTION_CHANGED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return FAQ_ITEMS_CHANGED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return FAQ_HIGHLIGHT_TEXT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return FAQ_ITEM_SELECTED_ON_TEXT_EDITOR; });\n/**\n * Constants for the FAQ hooks.\n *\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\n\n/**\n * Event name when the text selection changed in any of text editor, emitted\n * from the hooks.\n * @type {string}\n */\nconst FAQ_REQUEST_ADD_NEW_QUESTION = "FAQ_REQUEST_ADD_NEW_QUESTION";\n/**\n * Event emitted by hook when the text selection is changed.\n * @type {string}\n */\n\nconst FAQ_EVENT_HANDLER_SELECTION_CHANGED = "FAQ_EVENT_HANDLER_SELECTION_CHANGED";\n/**\n * Event emitted by the store when the faq items are changed\n * @type {string}\n */\n\nconst FAQ_ITEMS_CHANGED = "FAQ_ITEMS_CHANGED";\n/**\n * Event emitted by the store when a question or answer\n * is added by ui, asking the editor to highlight the text.\n */\n\nconst FAQ_HIGHLIGHT_TEXT = "FAQ_HIGHLIGHT_TEXT";\n/**\n * Event emitted by the hook to event handler when the faq is selected by the user.\n */\n\nconst FAQ_ITEM_SELECTED_ON_TEXT_EDITOR = "FAQ_ITEM_SELECTED_ON_TEXT_EDITOR";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2NvbnN0YW50cy9mYXEtaG9vay1jb25zdGFudHMuanM/MmQ5OCJdLCJuYW1lcyI6WyJGQVFfUkVRVUVTVF9BRERfTkVXX1FVRVNUSU9OIiwiRkFRX0VWRU5UX0hBTkRMRVJfU0VMRUNUSU9OX0NIQU5HRUQiLCJGQVFfSVRFTVNfQ0hBTkdFRCIsIkZBUV9ISUdITElHSFRfVEVYVCIsIkZBUV9JVEVNX1NFTEVDVEVEX09OX1RFWFRfRURJVE9SIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7QUFPQTs7Ozs7QUFLTyxNQUFNQSw0QkFBNEIsR0FBRyw4QkFBckM7QUFFUDs7Ozs7QUFJTyxNQUFNQyxtQ0FBbUMsR0FBRyxxQ0FBNUM7QUFFUDs7Ozs7QUFJTyxNQUFNQyxpQkFBaUIsR0FBRyxtQkFBMUI7QUFFUDs7Ozs7QUFJTyxNQUFNQyxrQkFBa0IsR0FBRyxvQkFBM0I7QUFHUDs7OztBQUdPLE1BQU1DLGdDQUFnQyxHQUFHLGtDQUF6QyIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29uc3RhbnRzIGZvciB0aGUgRkFRIGhvb2tzLlxuICpcbiAqIEBzaW5jZSAzLjI2LjBcbiAqIEBhdXRob3IgTmF2ZWVuIE11dGh1c2FteSA8bmF2ZWVuQHdvcmRsaWZ0LmlvPlxuICovXG5cbi8qKlxuICogRXZlbnQgbmFtZSB3aGVuIHRoZSB0ZXh0IHNlbGVjdGlvbiBjaGFuZ2VkIGluIGFueSBvZiB0ZXh0IGVkaXRvciwgZW1pdHRlZFxuICogZnJvbSB0aGUgaG9va3MuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgRkFRX1JFUVVFU1RfQUREX05FV19RVUVTVElPTiA9IFwiRkFRX1JFUVVFU1RfQUREX05FV19RVUVTVElPTlwiO1xuXG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgYnkgaG9vayB3aGVuIHRoZSB0ZXh0IHNlbGVjdGlvbiBpcyBjaGFuZ2VkLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEZBUV9FVkVOVF9IQU5ETEVSX1NFTEVDVElPTl9DSEFOR0VEID0gXCJGQVFfRVZFTlRfSEFORExFUl9TRUxFQ1RJT05fQ0hBTkdFRFwiO1xuXG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgYnkgdGhlIHN0b3JlIHdoZW4gdGhlIGZhcSBpdGVtcyBhcmUgY2hhbmdlZFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEZBUV9JVEVNU19DSEFOR0VEID0gXCJGQVFfSVRFTVNfQ0hBTkdFRFwiO1xuXG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgYnkgdGhlIHN0b3JlIHdoZW4gYSBxdWVzdGlvbiBvciBhbnN3ZXJcbiAqIGlzIGFkZGVkIGJ5IHVpLCBhc2tpbmcgdGhlIGVkaXRvciB0byBoaWdobGlnaHQgdGhlIHRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBGQVFfSElHSExJR0hUX1RFWFQgPSBcIkZBUV9ISUdITElHSFRfVEVYVFwiO1xuXG5cbi8qKlxuICogRXZlbnQgZW1pdHRlZCBieSB0aGUgaG9vayB0byBldmVudCBoYW5kbGVyIHdoZW4gdGhlIGZhcSBpcyBzZWxlY3RlZCBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGNvbnN0IEZBUV9JVEVNX1NFTEVDVEVEX09OX1RFWFRfRURJVE9SID0gXCJGQVFfSVRFTV9TRUxFQ1RFRF9PTl9URVhUX0VESVRPUlwiO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n')},27:function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6IjI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n')},49:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/**\n * FaqValidator validates the text selected by user, determines if it is question\n * or answer.\n *\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\nclass FaqValidator {\n  static isQuestion(text) {\n    return text.trim().endsWith("?");\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (FaqValidator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2hvb2tzL3ZhbGlkYXRvcnMvZmFxLXZhbGlkYXRvci5qcz9lOTdmIl0sIm5hbWVzIjpbIkZhcVZhbGlkYXRvciIsImlzUXVlc3Rpb24iLCJ0ZXh0IiwidHJpbSIsImVuZHNXaXRoIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQU9BLE1BQU1BLFlBQU4sQ0FBbUI7QUFFZixTQUFPQyxVQUFQLENBQWtCQyxJQUFsQixFQUF3QjtBQUNwQixXQUFPQSxJQUFJLENBQUNDLElBQUwsR0FBWUMsUUFBWixDQUFxQixHQUFyQixDQUFQO0FBQ0g7O0FBSmM7O0FBUUpKLHFFQUFmIiwiZmlsZSI6IjQ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGYXFWYWxpZGF0b3IgdmFsaWRhdGVzIHRoZSB0ZXh0IHNlbGVjdGVkIGJ5IHVzZXIsIGRldGVybWluZXMgaWYgaXQgaXMgcXVlc3Rpb25cbiAqIG9yIGFuc3dlci5cbiAqXG4gKiBAc2luY2UgMy4yNi4wXG4gKiBAYXV0aG9yIE5hdmVlbiBNdXRodXNhbXkgPG5hdmVlbkB3b3JkbGlmdC5pbz5cbiAqL1xuY2xhc3MgRmFxVmFsaWRhdG9yIHtcblxuICAgIHN0YXRpYyBpc1F1ZXN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQudHJpbSgpLmVuZHNXaXRoKFwiP1wiKVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGYXFWYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49\n')},60:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return FAQ_QUESTION_HIGHLIGHTING_CLASS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FAQ_ANSWER_HIGHLIGHTING_CLASS; });\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);\n/* harmony import */ var _mappings_blocks_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);\n/**\n * TinyMceHighlightHandler handles the toolbar button.\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\n\n/**\n * External dependencies.\n */\n\n/**\n * Internal dependencies.\n */\n\n\n\nconst FAQ_QUESTION_HIGHLIGHTING_CLASS = "wl-faq--question";\nconst FAQ_ANSWER_HIGHLIGHTING_CLASS = "wl-faq--answer";\n\nclass TinymceHighlightHandler {\n  /**\n   * Construct highlight handler instance.\n   * @param editor {tinymce.Editor} The Tinymce editor instance.\n   * @param store Redux store.\n   */\n  constructor(editor, store) {\n    this.editor = editor;\n    this.store = store;\n    this.selection = null;\n    /**\n     * Listen for highlighting events, then highlight the text.\n     * Expected object from the event\n     * {\n     *     text: string,\n     *     isQuestion:Boolean\n     *     id: Int\n     * }\n     */\n\n    Object(backbone__WEBPACK_IMPORTED_MODULE_0__["on"])(_constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_1__[/* FAQ_HIGHLIGHT_TEXT */ "b"], result => {\n      this.highlightSelectedText(result.text, result.isQuestion, result.id);\n    });\n  }\n  /**\n   * Save the currently selection to a instance\n   * variable, used for highlighting the text later even\n   * if the user unselected the text.\n   */\n\n\n  saveSelection() {\n    this.selection = this.editor.selection;\n  }\n  /**\n   * Highlight the selection done by the user.\n   * @param selectedText The text which was selected by the user.\n   * @param isQuestion {Boolean} Indicates if its question or answer.\n   * @param id {Int} Unique id for question and answer.\n   */\n\n\n  highlightSelectedText(selectedText, isQuestion, id) {\n    if (this.selection === null) {\n      /**\n       * Bail out if there is no selection on the editor.\n       */\n      return;\n    }\n\n    const html = this.selection.getContent();\n    const className = Object(_mappings_blocks_helper__WEBPACK_IMPORTED_MODULE_2__[/* classExtractor */ "a"])({\n      [FAQ_QUESTION_HIGHLIGHTING_CLASS]: isQuestion,\n      [FAQ_ANSWER_HIGHLIGHTING_CLASS]: !isQuestion\n    });\n    /**\n     * Prepare unique identifier for the string, we are appending the classname because ids should\n     * be unique.\n     * @type {string}\n     */\n\n    const identifier = `${className}--${id}`;\n    const highlightedElement = `<span class="${className}" id="${identifier}">${html}</span>`;\n    this.selection.setContent(highlightedElement);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["c"] = (TinymceHighlightHandler);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2hvb2tzL3RpbnltY2UvdGlueW1jZS1oaWdobGlnaHQtaGFuZGxlci5qcz8xNTRlIl0sIm5hbWVzIjpbIkZBUV9RVUVTVElPTl9ISUdITElHSFRJTkdfQ0xBU1MiLCJGQVFfQU5TV0VSX0hJR0hMSUdIVElOR19DTEFTUyIsIlRpbnltY2VIaWdobGlnaHRIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJzdG9yZSIsInNlbGVjdGlvbiIsIm9uIiwiRkFRX0hJR0hMSUdIVF9URVhUIiwicmVzdWx0IiwiaGlnaGxpZ2h0U2VsZWN0ZWRUZXh0IiwidGV4dCIsImlzUXVlc3Rpb24iLCJpZCIsInNhdmVTZWxlY3Rpb24iLCJzZWxlY3RlZFRleHQiLCJodG1sIiwiZ2V0Q29udGVudCIsImNsYXNzTmFtZSIsImNsYXNzRXh0cmFjdG9yIiwiaWRlbnRpZmllciIsImhpZ2hsaWdodGVkRWxlbWVudCIsInNldENvbnRlbnQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7QUFNQTs7O0FBR0E7QUFFQTs7OztBQUdBO0FBQ0E7QUFFTyxNQUFNQSwrQkFBK0IsR0FBRyxrQkFBeEM7QUFDQSxNQUFNQyw2QkFBNkIsR0FBRyxnQkFBdEM7O0FBRVAsTUFBTUMsdUJBQU4sQ0FBOEI7QUFDNUI7Ozs7O0FBS0FDLGFBQVcsQ0FBQ0MsTUFBRCxFQUFTQyxLQUFULEVBQWdCO0FBQ3pCLFNBQUtELE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtDLEtBQUwsR0FBYUEsS0FBYjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsSUFBakI7QUFDQTs7Ozs7Ozs7OztBQVNBQyx1REFBRSxDQUFDQyx3RkFBRCxFQUFxQkMsTUFBTSxJQUFJO0FBQy9CLFdBQUtDLHFCQUFMLENBQTJCRCxNQUFNLENBQUNFLElBQWxDLEVBQXdDRixNQUFNLENBQUNHLFVBQS9DLEVBQTJESCxNQUFNLENBQUNJLEVBQWxFO0FBQ0QsS0FGQyxDQUFGO0FBR0Q7QUFFRDs7Ozs7OztBQUtBQyxlQUFhLEdBQUc7QUFDZCxTQUFLUixTQUFMLEdBQWlCLEtBQUtGLE1BQUwsQ0FBWUUsU0FBN0I7QUFDRDtBQUNEOzs7Ozs7OztBQU1BSSx1QkFBcUIsQ0FBQ0ssWUFBRCxFQUFlSCxVQUFmLEVBQTJCQyxFQUEzQixFQUErQjtBQUNsRCxRQUFLLEtBQUtQLFNBQUwsS0FBbUIsSUFBeEIsRUFBOEI7QUFDNUI7OztBQUdBO0FBQ0Q7O0FBQ0QsVUFBTVUsSUFBSSxHQUFHLEtBQUtWLFNBQUwsQ0FBZVcsVUFBZixFQUFiO0FBQ0EsVUFBTUMsU0FBUyxHQUFHQyxzRkFBYyxDQUFDO0FBQy9CLE9BQUNuQiwrQkFBRCxHQUFtQ1ksVUFESjtBQUUvQixPQUFDWCw2QkFBRCxHQUFpQyxDQUFDVztBQUZILEtBQUQsQ0FBaEM7QUFJQTs7Ozs7O0FBS0EsVUFBTVEsVUFBVSxHQUFJLEdBQUVGLFNBQVUsS0FBSUwsRUFBRyxFQUF2QztBQUNBLFVBQU1RLGtCQUFrQixHQUFJLGdCQUFlSCxTQUFVLFNBQVFFLFVBQVcsS0FBSUosSUFBSyxTQUFqRjtBQUNBLFNBQUtWLFNBQUwsQ0FBZWdCLFVBQWYsQ0FBMEJELGtCQUExQjtBQUNEOztBQTFEMkI7O0FBNkRmbkIsZ0ZBQWYiLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRpbnlNY2VIaWdobGlnaHRIYW5kbGVyIGhhbmRsZXMgdGhlIHRvb2xiYXIgYnV0dG9uLlxuICogQHNpbmNlIDMuMjYuMFxuICogQGF1dGhvciBOYXZlZW4gTXV0aHVzYW15IDxuYXZlZW5Ad29yZGxpZnQuaW8+XG4gKi9cblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCB7IG9uIH0gZnJvbSBcImJhY2tib25lXCI7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzLlxuICovXG5pbXBvcnQgeyBGQVFfSElHSExJR0hUX1RFWFQsIEZBUV9JVEVNU19DSEFOR0VEIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9mYXEtaG9vay1jb25zdGFudHNcIjtcbmltcG9ydCB7IGNsYXNzRXh0cmFjdG9yIH0gZnJvbSBcIi4uLy4uLy4uL21hcHBpbmdzL2Jsb2Nrcy9oZWxwZXJcIjtcblxuZXhwb3J0IGNvbnN0IEZBUV9RVUVTVElPTl9ISUdITElHSFRJTkdfQ0xBU1MgPSBcIndsLWZhcS0tcXVlc3Rpb25cIjtcbmV4cG9ydCBjb25zdCBGQVFfQU5TV0VSX0hJR0hMSUdIVElOR19DTEFTUyA9IFwid2wtZmFxLS1hbnN3ZXJcIjtcblxuY2xhc3MgVGlueW1jZUhpZ2hsaWdodEhhbmRsZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0IGhpZ2hsaWdodCBoYW5kbGVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gZWRpdG9yIHt0aW55bWNlLkVkaXRvcn0gVGhlIFRpbnltY2UgZWRpdG9yIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gc3RvcmUgUmVkdXggc3RvcmUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlZGl0b3IsIHN0b3JlKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuc2VsZWN0aW9uID0gbnVsbFxuICAgIC8qKlxuICAgICAqIExpc3RlbiBmb3IgaGlnaGxpZ2h0aW5nIGV2ZW50cywgdGhlbiBoaWdobGlnaHQgdGhlIHRleHQuXG4gICAgICogRXhwZWN0ZWQgb2JqZWN0IGZyb20gdGhlIGV2ZW50XG4gICAgICoge1xuICAgICAqICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICogICAgIGlzUXVlc3Rpb246Qm9vbGVhblxuICAgICAqICAgICBpZDogSW50XG4gICAgICogfVxuICAgICAqL1xuICAgIG9uKEZBUV9ISUdITElHSFRfVEVYVCwgcmVzdWx0ID0+IHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0U2VsZWN0ZWRUZXh0KHJlc3VsdC50ZXh0LCByZXN1bHQuaXNRdWVzdGlvbiwgcmVzdWx0LmlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50bHkgc2VsZWN0aW9uIHRvIGEgaW5zdGFuY2VcbiAgICogdmFyaWFibGUsIHVzZWQgZm9yIGhpZ2hsaWdodGluZyB0aGUgdGV4dCBsYXRlciBldmVuXG4gICAqIGlmIHRoZSB1c2VyIHVuc2VsZWN0ZWQgdGhlIHRleHQuXG4gICAqL1xuICBzYXZlU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uXG4gIH1cbiAgLyoqXG4gICAqIEhpZ2hsaWdodCB0aGUgc2VsZWN0aW9uIGRvbmUgYnkgdGhlIHVzZXIuXG4gICAqIEBwYXJhbSBzZWxlY3RlZFRleHQgVGhlIHRleHQgd2hpY2ggd2FzIHNlbGVjdGVkIGJ5IHRoZSB1c2VyLlxuICAgKiBAcGFyYW0gaXNRdWVzdGlvbiB7Qm9vbGVhbn0gSW5kaWNhdGVzIGlmIGl0cyBxdWVzdGlvbiBvciBhbnN3ZXIuXG4gICAqIEBwYXJhbSBpZCB7SW50fSBVbmlxdWUgaWQgZm9yIHF1ZXN0aW9uIGFuZCBhbnN3ZXIuXG4gICAqL1xuICBoaWdobGlnaHRTZWxlY3RlZFRleHQoc2VsZWN0ZWRUZXh0LCBpc1F1ZXN0aW9uLCBpZCkge1xuICAgIGlmICggdGhpcy5zZWxlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgIC8qKlxuICAgICAgICogQmFpbCBvdXQgaWYgdGhlcmUgaXMgbm8gc2VsZWN0aW9uIG9uIHRoZSBlZGl0b3IuXG4gICAgICAgKi9cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBodG1sID0gdGhpcy5zZWxlY3Rpb24uZ2V0Q29udGVudCgpO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGNsYXNzRXh0cmFjdG9yKHtcbiAgICAgIFtGQVFfUVVFU1RJT05fSElHSExJR0hUSU5HX0NMQVNTXTogaXNRdWVzdGlvbixcbiAgICAgIFtGQVFfQU5TV0VSX0hJR0hMSUdIVElOR19DTEFTU106ICFpc1F1ZXN0aW9uXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHN0cmluZywgd2UgYXJlIGFwcGVuZGluZyB0aGUgY2xhc3NuYW1lIGJlY2F1c2UgaWRzIHNob3VsZFxuICAgICAqIGJlIHVuaXF1ZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSBgJHtjbGFzc05hbWV9LS0ke2lkfWA7XG4gICAgY29uc3QgaGlnaGxpZ2h0ZWRFbGVtZW50ID0gYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9XCIgaWQ9XCIke2lkZW50aWZpZXJ9XCI+JHtodG1sfTwvc3Bhbj5gO1xuICAgIHRoaXMuc2VsZWN0aW9uLnNldENvbnRlbnQoaGlnaGxpZ2h0ZWRFbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW55bWNlSGlnaGxpZ2h0SGFuZGxlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///60\n')},81:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var backbone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(backbone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);\n/* harmony import */ var _validators_faq_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(49);\n/**\n * TinyMceToolbarHandler handles the toolbar button.\n * @since 3.26.0\n * @author Naveen Muthusamy <naveen@wordlift.io>\n */\n\n/**\n * Internal dependencies.\n */\n\n\n\nconst TINYMCE_TOOLBAR_BUTTON_NAME = "wl-faq-toolbar-button";\n\nclass TinymceToolbarHandler {\n  /**\n   * Construct the TinymceToolbarHandler\n   * @param editor {tinymce.Editor} instance.\n   * @param highlightHandler {TinymceHighlightHandler} instance.\n   */\n  constructor(editor, highlightHandler) {\n    this.editor = editor;\n    this.highlightHandler = highlightHandler;\n    this.faqItems = []; // Listen to store changes on faq items and set the tool bar\n    // button state based on it.\n\n    Object(backbone__WEBPACK_IMPORTED_MODULE_0__["on"])(_constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_1__[/* FAQ_ITEMS_CHANGED */ "c"], faqItems => {\n      this.faqItems = faqItems;\n    });\n  }\n  /**\n   * Sets the button text based on the text selected by user.\n   * @param selectedText The text selected by user.\n   * @param button Button present in toolbar.\n   * @param container This container holds the button.\n   */\n\n\n  setButtonTextBasedOnSelectedText(selectedText, button, container) {\n    if (_validators_faq_validator__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].isQuestion(selectedText)) {\n      button.innerText = "Add Question";\n      container.setAttribute("aria-label", "Add Question");\n    } else {\n      button.innerText = "Add Answer";\n      container.setAttribute("aria-label", "Add Answer");\n    }\n  }\n  /**\n   * Disable toolbar button\n   */\n\n\n  disableButton(container, button) {\n    container.classList.add("mce-disabled");\n    button.disabled = true;\n  }\n  /**\n   * Enable toolbar button\n   */\n\n\n  enableButton(container, button) {\n    container.classList.remove("mce-disabled");\n    button.disabled = false;\n  }\n  /**\n   * Determine if the tool bar button needed to be disabled.\n   * Conditions for disabling the button\n   * 1. If there is no selected text\n   * 2. If an answer is selected and there are no unanswered questions.\n   * @return {Boolean} True if we need to disable button, false if we dont want to.\n   */\n\n\n  static shouldDisableButton(selectedText, faqItems) {\n    if (0 === selectedText.length || typeof selectedText === "undefined") {\n      return true;\n    } // If there is some selected text then check if it is an answer.\n\n\n    const questionsWithoutAnswer = faqItems.filter(e => e.answer === "").length;\n\n    if (0 === questionsWithoutAnswer && !_validators_faq_validator__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].isQuestion(selectedText)) {\n      // There are no questions without answer and selected text is answer then disable it.\n      return true;\n    } // Return false if no conditions are matching.\n\n\n    return false;\n  }\n  /**\n   * When there is no selection disable the button, determine\n   * if it is question or answer and change the button text.\n   */\n\n\n  changeButtonStateOnSelectedText() {\n    const editor = this.editor;\n    const selectedText = editor.selection.getContent({\n      format: "text"\n    });\n    const container = document.getElementById(TINYMCE_TOOLBAR_BUTTON_NAME); // If we cant find the toolbar buttons, then return early.\n\n    if (container === null) {\n      return;\n    }\n\n    const button = container.getElementsByTagName("button")[0];\n\n    if (TinymceToolbarHandler.shouldDisableButton(selectedText, this.faqItems)) {\n      this.disableButton(container, button);\n    } else {\n      this.enableButton(container, button);\n    }\n\n    this.setButtonTextBasedOnSelectedText(selectedText, button, container);\n  }\n  /**\n   * Listen for node changes, and alter the state of\n   * the button according to the text selected.\n   */\n\n\n  changeToolBarButtonStateBasedOnTextSelected() {\n    const editor = this.editor;\n    editor.on("NodeChange", e => {\n      this.changeButtonStateOnSelectedText();\n    });\n  }\n  /**\n   * Adds the button to the toolbar.\n   */\n\n\n  addButtonToToolBar() {\n    const editor = this.editor;\n    const self = this;\n    editor.addButton(TINYMCE_TOOLBAR_BUTTON_NAME, {\n      text: "Add Question or Answer",\n      id: TINYMCE_TOOLBAR_BUTTON_NAME,\n      onclick: function () {\n        const selectedText = editor.selection.getContent({\n          format: "text"\n        });\n        const selectedHTML = editor.selection.getNode().innerHTML;\n        /**\n         * Make the highlight handler to save the selection.\n         */\n\n        self.highlightHandler.saveSelection();\n        Object(backbone__WEBPACK_IMPORTED_MODULE_0__["trigger"])(_constants_faq_hook_constants__WEBPACK_IMPORTED_MODULE_1__[/* FAQ_EVENT_HANDLER_SELECTION_CHANGED */ "a"], {\n          selectedText: selectedText,\n          selectedHTML: selectedHTML\n        });\n      }\n    });\n    this.changeToolBarButtonStateBasedOnTextSelected();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (TinymceToolbarHandler);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFxL2hvb2tzL3RpbnltY2UvdGlueW1jZS10b29sYmFyLWhhbmRsZXIuanM/M2JiMiJdLCJuYW1lcyI6WyJUSU5ZTUNFX1RPT0xCQVJfQlVUVE9OX05BTUUiLCJUaW55bWNlVG9vbGJhckhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImVkaXRvciIsImhpZ2hsaWdodEhhbmRsZXIiLCJmYXFJdGVtcyIsIm9uIiwiRkFRX0lURU1TX0NIQU5HRUQiLCJzZXRCdXR0b25UZXh0QmFzZWRPblNlbGVjdGVkVGV4dCIsInNlbGVjdGVkVGV4dCIsImJ1dHRvbiIsImNvbnRhaW5lciIsIkZhcVZhbGlkYXRvciIsImlzUXVlc3Rpb24iLCJpbm5lclRleHQiLCJzZXRBdHRyaWJ1dGUiLCJkaXNhYmxlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGlzYWJsZWQiLCJlbmFibGVCdXR0b24iLCJyZW1vdmUiLCJzaG91bGREaXNhYmxlQnV0dG9uIiwibGVuZ3RoIiwicXVlc3Rpb25zV2l0aG91dEFuc3dlciIsImZpbHRlciIsImUiLCJhbnN3ZXIiLCJjaGFuZ2VCdXR0b25TdGF0ZU9uU2VsZWN0ZWRUZXh0Iiwic2VsZWN0aW9uIiwiZ2V0Q29udGVudCIsImZvcm1hdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNoYW5nZVRvb2xCYXJCdXR0b25TdGF0ZUJhc2VkT25UZXh0U2VsZWN0ZWQiLCJhZGRCdXR0b25Ub1Rvb2xCYXIiLCJzZWxmIiwiYWRkQnV0dG9uIiwidGV4dCIsImlkIiwib25jbGljayIsInNlbGVjdGVkSFRNTCIsImdldE5vZGUiLCJpbm5lckhUTUwiLCJzYXZlU2VsZWN0aW9uIiwidHJpZ2dlciIsIkZBUV9FVkVOVF9IQU5ETEVSX1NFTEVDVElPTl9DSEFOR0VEIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7QUFNQTs7O0FBR0E7QUFDQTtBQUNB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Q0Q7O0FBQ0QsU0FBS0YsZ0NBQUwsQ0FBc0NDLFlBQXRDLEVBQW9EQyxNQUFwRCxFQUE0REMsU0FBNUQ7QUFDRDtBQUVEOzs7Ozs7QUFJQXdCLDZDQUEyQyxHQUFHO0FBQzVDLFVBQU1oQyxNQUFNLEdBQUcsS0FBS0EsTUFBcEI7QUFDQUEsVUFBTSxDQUFDRyxFQUFQLENBQVUsWUFBVixFQUF3Qm9CLENBQUMsSUFBSTtBQUMzQixXQUFLRSwrQkFBTDtBQUNELEtBRkQ7QUFHRDtBQUVEOzs7OztBQUdBUSxvQkFBa0IsR0FBRztBQUNuQixVQUFNakMsTUFBTSxHQUFHLEtBQUtBLE1BQXBCO0FBQ0EsVUFBTWtDLElBQUksR0FBRyxJQUFiO0FBQ0FsQyxVQUFNLENBQUNtQyxTQUFQLENBQWlCdEMsMkJBQWpCLEVBQThDO0FBQzVDdUMsVUFBSSxFQUFFLHdCQURzQztBQUU1Q0MsUUFBRSxFQUFFeEMsMkJBRndDO0FBRzVDeUMsYUFBTyxFQUFFLFlBQVc7QUFDbEIsY0FBTWhDLFlBQVksR0FBR04sTUFBTSxDQUFDMEIsU0FBUCxDQUFpQkMsVUFBakIsQ0FBNEI7QUFBRUMsZ0JBQU0sRUFBRTtBQUFWLFNBQTVCLENBQXJCO0FBQ0EsY0FBTVcsWUFBWSxHQUFHdkMsTUFBTSxDQUFDMEIsU0FBUCxDQUFpQmMsT0FBakIsR0FBMkJDLFNBQWhEO0FBQ0E7Ozs7QUFHQVAsWUFBSSxDQUFDakMsZ0JBQUwsQ0FBc0J5QyxhQUF0QjtBQUNBQyxnRUFBTyxDQUFDQyx5R0FBRCxFQUFzQztBQUMzQ3RDLHNCQUFZLEVBQUVBLFlBRDZCO0FBRTNDaUMsc0JBQVksRUFBRUE7QUFGNkIsU0FBdEMsQ0FBUDtBQUlEO0FBZDJDLEtBQTlDO0FBZ0JBLFNBQUtQLDJDQUFMO0FBQ0Q7O0FBN0h5Qjs7QUFnSWJsQyw4RUFBZiIsImZpbGUiOiI4MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGlueU1jZVRvb2xiYXJIYW5kbGVyIGhhbmRsZXMgdGhlIHRvb2xiYXIgYnV0dG9uLlxuICogQHNpbmNlIDMuMjYuMFxuICogQGF1dGhvciBOYXZlZW4gTXV0aHVzYW15IDxuYXZlZW5Ad29yZGxpZnQuaW8+XG4gKi9cblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCB7IHRyaWdnZXIsIG9uIH0gZnJvbSBcImJhY2tib25lXCI7XG5pbXBvcnQgeyBGQVFfRVZFTlRfSEFORExFUl9TRUxFQ1RJT05fQ0hBTkdFRCwgRkFRX0lURU1TX0NIQU5HRUQgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2ZhcS1ob29rLWNvbnN0YW50c1wiO1xuaW1wb3J0IEZhcVZhbGlkYXRvciBmcm9tIFwiLi4vdmFsaWRhdG9ycy9mYXEtdmFsaWRhdG9yXCI7XG5jb25zdCBUSU5ZTUNFX1RPT0xCQVJfQlVUVE9OX05BTUUgPSBcIndsLWZhcS10b29sYmFyLWJ1dHRvblwiO1xuXG5jbGFzcyBUaW55bWNlVG9vbGJhckhhbmRsZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0IHRoZSBUaW55bWNlVG9vbGJhckhhbmRsZXJcbiAgICogQHBhcmFtIGVkaXRvciB7dGlueW1jZS5FZGl0b3J9IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gaGlnaGxpZ2h0SGFuZGxlciB7VGlueW1jZUhpZ2hsaWdodEhhbmRsZXJ9IGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZWRpdG9yLCBoaWdobGlnaHRIYW5kbGVyKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5oaWdobGlnaHRIYW5kbGVyID0gaGlnaGxpZ2h0SGFuZGxlcjtcbiAgICB0aGlzLmZhcUl0ZW1zID0gW107XG4gICAgLy8gTGlzdGVuIHRvIHN0b3JlIGNoYW5nZXMgb24gZmFxIGl0ZW1zIGFuZCBzZXQgdGhlIHRvb2wgYmFyXG4gICAgLy8gYnV0dG9uIHN0YXRlIGJhc2VkIG9uIGl0LlxuICAgIG9uKEZBUV9JVEVNU19DSEFOR0VELCBmYXFJdGVtcyA9PiB7XG4gICAgICB0aGlzLmZhcUl0ZW1zID0gZmFxSXRlbXM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYnV0dG9uIHRleHQgYmFzZWQgb24gdGhlIHRleHQgc2VsZWN0ZWQgYnkgdXNlci5cbiAgICogQHBhcmFtIHNlbGVjdGVkVGV4dCBUaGUgdGV4dCBzZWxlY3RlZCBieSB1c2VyLlxuICAgKiBAcGFyYW0gYnV0dG9uIEJ1dHRvbiBwcmVzZW50IGluIHRvb2xiYXIuXG4gICAqIEBwYXJhbSBjb250YWluZXIgVGhpcyBjb250YWluZXIgaG9sZHMgdGhlIGJ1dHRvbi5cbiAgICovXG4gIHNldEJ1dHRvblRleHRCYXNlZE9uU2VsZWN0ZWRUZXh0KHNlbGVjdGVkVGV4dCwgYnV0dG9uLCBjb250YWluZXIpIHtcbiAgICBpZiAoRmFxVmFsaWRhdG9yLmlzUXVlc3Rpb24oc2VsZWN0ZWRUZXh0KSkge1xuICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IFwiQWRkIFF1ZXN0aW9uXCI7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkFkZCBRdWVzdGlvblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IFwiQWRkIEFuc3dlclwiO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJBZGQgQW5zd2VyXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRvb2xiYXIgYnV0dG9uXG4gICAqL1xuICBkaXNhYmxlQnV0dG9uKGNvbnRhaW5lciwgYnV0dG9uKSB7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtY2UtZGlzYWJsZWRcIik7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgdG9vbGJhciBidXR0b25cbiAgICovXG4gIGVuYWJsZUJ1dHRvbihjb250YWluZXIsIGJ1dHRvbikge1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWNlLWRpc2FibGVkXCIpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGUgdG9vbCBiYXIgYnV0dG9uIG5lZWRlZCB0byBiZSBkaXNhYmxlZC5cbiAgICogQ29uZGl0aW9ucyBmb3IgZGlzYWJsaW5nIHRoZSBidXR0b25cbiAgICogMS4gSWYgdGhlcmUgaXMgbm8gc2VsZWN0ZWQgdGV4dFxuICAgKiAyLiBJZiBhbiBhbnN3ZXIgaXMgc2VsZWN0ZWQgYW5kIHRoZXJlIGFyZSBubyB1bmFuc3dlcmVkIHF1ZXN0aW9ucy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB3ZSBuZWVkIHRvIGRpc2FibGUgYnV0dG9uLCBmYWxzZSBpZiB3ZSBkb250IHdhbnQgdG8uXG4gICAqL1xuICBzdGF0aWMgc2hvdWxkRGlzYWJsZUJ1dHRvbihzZWxlY3RlZFRleHQsIGZhcUl0ZW1zKSB7XG4gICAgaWYgKDAgPT09IHNlbGVjdGVkVGV4dC5sZW5ndGggfHwgdHlwZW9mIHNlbGVjdGVkVGV4dCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIHNvbWUgc2VsZWN0ZWQgdGV4dCB0aGVuIGNoZWNrIGlmIGl0IGlzIGFuIGFuc3dlci5cbiAgICBjb25zdCBxdWVzdGlvbnNXaXRob3V0QW5zd2VyID0gZmFxSXRlbXMuZmlsdGVyKGUgPT4gZS5hbnN3ZXIgPT09IFwiXCIpLmxlbmd0aDtcbiAgICBpZiAoMCA9PT0gcXVlc3Rpb25zV2l0aG91dEFuc3dlciAmJiAhRmFxVmFsaWRhdG9yLmlzUXVlc3Rpb24oc2VsZWN0ZWRUZXh0KSkge1xuICAgICAgLy8gVGhlcmUgYXJlIG5vIHF1ZXN0aW9ucyB3aXRob3V0IGFuc3dlciBhbmQgc2VsZWN0ZWQgdGV4dCBpcyBhbnN3ZXIgdGhlbiBkaXNhYmxlIGl0LlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFJldHVybiBmYWxzZSBpZiBubyBjb25kaXRpb25zIGFyZSBtYXRjaGluZy5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGVyZSBpcyBubyBzZWxlY3Rpb24gZGlzYWJsZSB0aGUgYnV0dG9uLCBkZXRlcm1pbmVcbiAgICogaWYgaXQgaXMgcXVlc3Rpb24gb3IgYW5zd2VyIGFuZCBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0LlxuICAgKi9cbiAgY2hhbmdlQnV0dG9uU3RhdGVPblNlbGVjdGVkVGV4dCgpIHtcbiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICBjb25zdCBzZWxlY3RlZFRleHQgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldENvbnRlbnQoeyBmb3JtYXQ6IFwidGV4dFwiIH0pO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFRJTllNQ0VfVE9PTEJBUl9CVVRUT05fTkFNRSk7XG4gICAgLy8gSWYgd2UgY2FudCBmaW5kIHRoZSB0b29sYmFyIGJ1dHRvbnMsIHRoZW4gcmV0dXJuIGVhcmx5LlxuICAgIGlmIChjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYnV0dG9uID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpWzBdO1xuICAgIGlmIChUaW55bWNlVG9vbGJhckhhbmRsZXIuc2hvdWxkRGlzYWJsZUJ1dHRvbihzZWxlY3RlZFRleHQsIHRoaXMuZmFxSXRlbXMpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oY29udGFpbmVyLCBidXR0b24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbihjb250YWluZXIsIGJ1dHRvbik7XG4gICAgfVxuICAgIHRoaXMuc2V0QnV0dG9uVGV4dEJhc2VkT25TZWxlY3RlZFRleHQoc2VsZWN0ZWRUZXh0LCBidXR0b24sIGNvbnRhaW5lcik7XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVuIGZvciBub2RlIGNoYW5nZXMsIGFuZCBhbHRlciB0aGUgc3RhdGUgb2ZcbiAgICogdGhlIGJ1dHRvbiBhY2NvcmRpbmcgdG8gdGhlIHRleHQgc2VsZWN0ZWQuXG4gICAqL1xuICBjaGFuZ2VUb29sQmFyQnV0dG9uU3RhdGVCYXNlZE9uVGV4dFNlbGVjdGVkKCkge1xuICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgIGVkaXRvci5vbihcIk5vZGVDaGFuZ2VcIiwgZSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZUJ1dHRvblN0YXRlT25TZWxlY3RlZFRleHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBidXR0b24gdG8gdGhlIHRvb2xiYXIuXG4gICAqL1xuICBhZGRCdXR0b25Ub1Rvb2xCYXIoKSB7XG4gICAgY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgZWRpdG9yLmFkZEJ1dHRvbihUSU5ZTUNFX1RPT0xCQVJfQlVUVE9OX05BTUUsIHtcbiAgICAgIHRleHQ6IFwiQWRkIFF1ZXN0aW9uIG9yIEFuc3dlclwiLFxuICAgICAgaWQ6IFRJTllNQ0VfVE9PTEJBUl9CVVRUT05fTkFNRSxcbiAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFRleHQgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldENvbnRlbnQoeyBmb3JtYXQ6IFwidGV4dFwiIH0pO1xuICAgICAgICBjb25zdCBzZWxlY3RlZEhUTUwgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKS5pbm5lckhUTUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYWtlIHRoZSBoaWdobGlnaHQgaGFuZGxlciB0byBzYXZlIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZWxmLmhpZ2hsaWdodEhhbmRsZXIuc2F2ZVNlbGVjdGlvbigpO1xuICAgICAgICB0cmlnZ2VyKEZBUV9FVkVOVF9IQU5ETEVSX1NFTEVDVElPTl9DSEFOR0VELCB7XG4gICAgICAgICAgc2VsZWN0ZWRUZXh0OiBzZWxlY3RlZFRleHQsXG4gICAgICAgICAgc2VsZWN0ZWRIVE1MOiBzZWxlY3RlZEhUTUxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jaGFuZ2VUb29sQmFyQnV0dG9uU3RhdGVCYXNlZE9uVGV4dFNlbGVjdGVkKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlueW1jZVRvb2xiYXJIYW5kbGVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///81\n')}});